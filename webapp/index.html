<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8"/>
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
<![endif]-->
<!--[if lt IE 9]>
<script>
(function(a){for(var i in a){document.createElement(a[i])}})(['header', 'footer', 'section', 'article', 'aside', 'time', 'hgroup'])
</script>
<![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Task Wall</title>
<link rel="stylesheet" href="/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/css/app.css" />
</head>
<body>
<div id="loading"></div>
<div id="global-errors" style="display: none;"></div>

<article class="oauth2state unauthorized" style="display: none;">
<p class="screenshot"></p>
<h1>Task Wall</h1>
<div class="lead">Manage your tasks by way like agile.</div>
<p>
Task WallはGoogleタスクと連携するタスク管理アプリです。<br/>
壁に付箋を貼る感覚でタスクを管理できます。
</p>
<p class="login"><a><button>Googleアカウントでログイン</button></a></p>
<footer>Task Wall &copy; hidetake.org, 2011-2012.</footer>
</article>

<article class="oauth2state authorizing" style="display: none;">
<h1>Task Wall<span style="color: gold;">*</span></h1>
<p>Google APIと通信しています...</p>
</article>

<article class="oauth2state authorized" style="display: none;">
<section class="header">
<h1>Task Wall<span style="color: gold;">*</span></h1>
<div style="text-align: center; font-weight: bold; margin-top: -5px; color: #888;">BETA</div>
<div class="toggle">
<div data-bind="foreach: taskdata.tasklists">
<div data-bind="attr: {'data-tasklistcolor': colorID}" class="tasklist">
<div class="setting"><div></div></div>
<div data-bind="text: title" class="title"></div>
</div>
</div>
<div><a href="#"><span class="myicon-create-tasklist" title="新しいタスクリスト"></span></a></div>
</div>
<div class="toggle">
<div class="description">this week's</div>
<div class="kind">
<a href="#" title="完了したタスクの表示を切り替える">completed<br/><span data-bind="text: completedCount" class="count"></span></a>
</div>
<div class="kind">
<a href="#" title="未完了タスクの表示を切り替える">needs action<br/><span data-bind="text: needsActionCount" class="count"></span></a>
</div>
</div>
<div>
<div><a href="/logout" class="session-logout"><span class="myicon-logout" title="ログアウト"></span></a></div>
<div><a href="#help"><span class="myicon-help" title="ヘルプ"></span></a></div>
</div>
<p class="footer">&copy; hidetake.org, 2011-2012.</p>
</section>

<!-- ko if: $root.development -->
<section class="cache-status">
<label class="checkbox"><input data-bind="checked: offline" type="checkbox"/>オフライン</label>
<!-- ko if: offline -->
<span data-bind="with: lastCached">
最後の読み込みは
<span data-bind="text: getMonth()+1"></span>月
<span data-bind="text: getDate()"></span>日
<span data-bind="text: getHours()"></span>時
<span data-bind="text: getMinutes()"></span>分です。
</span>
<!-- /ko -->
</section>
<!-- /ko -->

<div class="calendar-operations-tab">
<a href="#clear-completed-tasks">完了したタスクを消す</a>
</div>

<section data-bind="with: calendar" class="calendar">
<table>
<tbody data-bind="foreach: days">
<tr data-bind="css: {
	past: past,
	thisweek: thisweek
}, attr: {
	'data-day': day,
	'data-weekday': weekday
}">
<td class="month"><div><span data-bind="text: month"></span>月</div></td>
<td class="border day"><div data-bind="text: day"></div></td>
<td class="border weekday"><div data-bind="text: weekdayName"></div></td>
<td class="border tasks">
<div data-bind="foreach: tasklists">
<div data-bind="foreach: tasks" class="tasklist">
<div data-bind="overlappedClick: $root.updateTaskDialog.open, attr: {
	'data-status': status,
	'data-tasklistcolor': tasklist().colorID
}" class="task">
<input data-bind="checked: isCompleted" type="checkbox" class="intercept-click" />
<span data-bind="text: title" class="title"></span>
<div data-bind="text: notes" class="notes"></div>
</div>
</div>
</div>
<div class="create">
<a data-bind="click: $root.createTaskDialog.open" href="#" title="新しいタスクを作成する"></a>
</div>
</td>
</tr>
</tbody>
</table>
</section>

<section id="planner" class="t0">
<div class="task-column">
<div class="description">計画中のタスク</div>
<div class="create-task">
<div class="balloon-tip">新しいタスクを作成する</div>
<a href="#create-task"></a>
</div>
</div>
</section>

<div data-bind="with: calendar" class="calendar-next">
<a data-bind="click: extendToNextMonth" href="#">
<span data-bind="text: nextMonth().getFullYear()"></span>年
<span data-bind="text: nextMonth().getMonth()+1"></span>月を表示
</a>
</div>

<section id="help-template" class="help resource">
<div class="tasklists left">
<div class="head"></div>
<div class="body">
<h3>タスクリスト</h3>
<p>場所や優先度に応じてタスクを分類します。</p>
</div>
</div>
<div class="calendar">
<div class="body">
<h3>カレンダー</h3>
<p>
タスクをドラッグして自主期限（ベースライン）を決めます。<br/>
タイトルをクリックすると編集できます。<br/>
空白をクリックすると詳細を編集できます。
</p>
</div>
</div>
<div class="thisweek left">
<div class="head"></div>
<div class="body">
<h3>今週の件数</h3>
<p>
消化したタスクと残っているタスクの数が表示されます。<br/>
数をクリックすると表示が切り替わります。
</p>
</div>
</div>
<div class="planner">
<div class="body">
<h3>計画中のタスク</h3>
<p>近い将来にやるタスクを追加します。</p>
</div>
</div>
</section>

<div id="create-tasklist-template" class="create-tasklist dialog resource">
<form action="/tasklists/create" method="post">
<div>新しいタスクリストを作成します。</div>
<div><input type="text" name="title" /></div>
<div><button class="btn">タスクリストを作成</button></div>
</form>
</div>

<div id="update-tasklist-template" class="update-tasklist resource">
<div class="head"></div>
<div class="body dialog">
<div class="default">デフォルトのタスクリスト</div>
<div><a href="#toggle">表示を切り替える</a></div>
<form class="tasklist" action="/tasklists/update" method="post">
<div><input type="hidden" name="id" /></div>
<div><input type="text" name="title" /></div>
</form>
<form class="options" action="/tasklists/options/update" method="post">
<div><input type="hidden" name="id" /></div>
<div><input type="hidden" name="colorID" /></div>
<div class="change-color"></div>
<div style="clear: both;"></div>
</form>
<form class="delete" action="/tasklists/delete" method="post">
<div><input type="hidden" name="id" /></div>
<div><a href="#delete">タスクリストを削除する...</a></div>
<div class="confirm">
<div><strong>警告：</strong>タスクリストに含まれるすべてのタスクも削除されます。</div>
<div><button class="btn">タスクリストを削除する</button></div>
</div>
</form>
</div>
</div>

<div id="update-task-title-template" class="update-task-title resource">
<form action="/tasks/update" method="post">
<div><textarea name="title"></textarea></div>
<div>
<input type="hidden" name="id" />
<input type="hidden" name="tasklistID" />
</div>
</form>
</div>

<div id="update-task-due-template" class="update-task-due resource">
<form action="/tasks/update" method="post">
<div>
<input type="hidden" name="id" />
<input type="hidden" name="tasklistID" />
<input type="hidden" name="dueTime" />
</div>
</form>
</div>

<div id="update-task-status-template" class="update-task-status resource">
<form action="/tasks/update" method="post">
<div>
<input type="hidden" name="id" />
<input type="hidden" name="tasklistID" />
<input type="hidden" name="status" />
</div>
</form>
</div>

<!-- ko with: createTaskDialog -->
<!-- ko if: visible -->
<form data-bind="submit: save">
<div data-bind="style: {top: top}" class="create-task dialog">
<div data-bind="with: due" class="due">
<span data-bind="text: getFullYear()"></span>年
<span data-bind="text: getMonth()+1"></span>月
<span data-bind="text: getDate()"></span>日
</div>
<div><input data-bind="value: title" type="text" placeholder="タスクの件名" /></div>
<div><textarea data-bind="value: notes" placeholder="備考"></textarea></div>
<div data-bind="foreach: tasklists" class="tasklists">
<span data-bind="text: title,
	attr: {'data-tasklistcolor': colorID},
	css: {selected: id() == $parent.selectedTasklistID()},
	click: $parent.selectTasklist"
	class="tasklist"></span>
</div>
<button type="submit" class="btn">タスクを作成</button>
</div>
<div data-bind="click: close" class="dialog-background"></div>
</form>
<!-- /ko -->
<!-- /ko -->

<!-- ko with: updateTaskDialog -->
<!-- ko if: visible -->
<div data-bind="style: {top: top}" class="update-task dialog">
<form data-bind="submit: save">
<div><input data-bind="value: title" type="text" placeholder="タスクの件名" /></div>
<div><textarea data-bind="value: notes" placeholder="備考"></textarea></div>
<div data-bind="with: due" class="due">
<span data-bind="text: getFullYear()"></span>年
<span data-bind="text: getMonth()+1"></span>月
<span data-bind="text: getDate()"></span>日
<a href="#">期限を変更する...</a>
</div>
<div class="datepicker"><!-- TODO: bind this --></div>
<button type="submit" class="btn">タスクを更新</button>
</form>
<hr/>
<form data-bind="submit: move">
<div data-bind="foreach: tasklists" class="tasklists">
<span data-bind="text: title,
	attr: {'data-tasklistcolor': colorID},
	css: {selected: id() == $parent.selectedTasklistID()},
	click: $parent.selectTasklist"
	class="tasklist"></span>
</div>
<button data-bind="disable: selectedTasklistID() == originalTasklistID()" type="submit" class="btn">
別のタスクリストに移動
</button>
</form>
<hr/>
<form data-bind="submit: remove">
<!-- ko ifnot: removeConfirmed -->
<a data-bind="click: confirmRemove" href="#">タスクを削除する...</a>
<!-- /ko -->
<!-- ko if: removeConfirmed -->
<button type="submit" class="btn">タスクを削除する</button>
<!-- /ko -->
</form>
</div>
<div data-bind="click: close" class="dialog-background"></div>
<!-- /ko -->
<!-- /ko -->
</article>

<div id="resources" style="display: none;">
<div data-key="global-errors">エラーです。もう一度試してみてください。</div>
<div data-key="weekday0">日</div>
<div data-key="weekday1">月</div>
<div data-key="weekday2">火</div>
<div data-key="weekday3">水</div>
<div data-key="weekday4">木</div>
<div data-key="weekday5">金</div>
<div data-key="weekday6">土</div>
</div>

<script>
(function(s){document.write('<'+'script src="'+s+'"></'+'script>')})(location.hostname=='localhost'?'/js/load':'/js/min.js');
</script>
<script>
var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-3232369-8"]);_gaq.push(["_trackPageview"]);
(function(){var ga=document.createElement("script");ga.type="text/javascript";ga.async=true;
ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s)})();
</script>
</body>
</html>